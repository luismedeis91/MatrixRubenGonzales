{"mappings":"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","sources":["src/script.js"],"sourcesContent":["let linhas = 5;\r\nlet colunas = 6;\r\nlet tabela;\r\nlet popupCelulaAtiva = null;\r\nlet popupPlacaAtiva = null;\r\nlet valorTotalAcumulado = 0;\r\n\r\nlet hora = 10;\r\nlet minuto = 0;\r\nlet segundo = 0;\r\n\r\nlet horaGlobal = 0;\r\nlet minutoGlobal = 0;\r\nlet segundoGlobal = 0;\r\n\r\nwindow.onload = function () {\r\n  tabela = document.getElementById(\"matriz_vagas\");\r\n  criarMatriz();\r\n\r\n  document.getElementById(\"btn-fechar\").onclick = () => {\r\n    document.getElementById(\"popup\").classList.add(\"hidden\");\r\n  };\r\n\r\n  document.getElementById(\"btn-fecharRepetido\").onclick = () => {\r\n    document.getElementById(\"popupRepetido\").classList.add(\"hidden\");\r\n  };\r\n\r\n  document.getElementById(\"btn-verHistorico\").onclick = () => {\r\n    document.getElementById(\"valorTotalHistorico\").textContent = `R$ ${valorTotalAcumulado.toFixed(2)}`;\r\n    document.getElementById(\"popupPrecos\").classList.remove(\"hidden\");\r\n  };\r\n\r\n  document.getElementById(\"btn-fecharPrecos\").onclick = () => {\r\n    document.getElementById(\"popupPrecos\").classList.add(\"hidden\");\r\n  };\r\n};\r\n\r\nfunction criarMatriz() {\r\n  for (let i = 0; i < linhas; i++) {\r\n    const linha = document.createElement(\"tr\");\r\n    for (let j = 0; j < colunas; j++) {\r\n      const celula = document.createElement(\"td\");\r\n      celula.dataset.livre = \"true\";\r\n      celula.dataset.horaEntradaCarro = 0;\r\n      celula.dataset.minutoEntradaCarro = 0;\r\n      celula.dataset.segundoEntradaCarro = 0;\r\n      linha.appendChild(celula);\r\n    }\r\n    tabela.appendChild(linha);\r\n  }\r\n}\r\n\r\nfunction corAleatoria() {\r\n  const cores = [\"#e74c3c\", \"#3498db\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\",\r\n    \"#1abc9c\", \"#e67e22\", \"#34495e\", \"#7f8c8d\", \"#d35400\",\r\n    \"#27ae60\", \"#2980b9\", \"#8e44ad\", \"#c0392b\", \"#16a085\",\r\n    \"#f1c40f\", \"#bdc3c7\", \"#2c3e50\"];\r\n  return cores[Math.floor(Math.random() * cores.length)];\r\n}\r\n\r\nfunction criarCarro(placa, horario) {\r\n  const carro = document.createElement(\"div\");\r\n  carro.classList.add(\"carro\");\r\n  carro.style.backgroundColor = corAleatoria();\r\n  carro.title = `Entrou às ${horario}`;\r\n\r\n  const iconesCarros = [\r\n    \"fa-car\", \"fa-car-side\", \"fa-taxi\", \"fa-bus\",\r\n    \"fa-shuttle-van\", \"fa-truck-pickup\", \"fa-truck\",\r\n    \"fa-ambulance\", \"fa-motorcycle\"\r\n  ];\r\n  const iconeAleatorio = iconesCarros[Math.floor(Math.random() * iconesCarros.length)];\r\n\r\n  const icone = document.createElement(\"i\");\r\n  icone.classList.add(\"fas\", iconeAleatorio);\r\n\r\n  const texto = document.createElement(\"span\");\r\n  texto.textContent = placa;\r\n\r\n  const horarioTexto = document.createElement(\"span\");\r\n  horarioTexto.classList.add(\"horario\");\r\n  horarioTexto.textContent = `00:00:00`;\r\n\r\n  carro.appendChild(icone);\r\n  carro.appendChild(texto);\r\n  carro.appendChild(horarioTexto);\r\n  return carro;\r\n}\r\n\r\nfunction placaJaExiste(placa) {\r\n  const celulas = document.querySelectorAll(\"#matriz_vagas td\");\r\n  for (let celula of celulas) {\r\n    if (celula.dataset.livre === \"false\") {\r\n      const carroSpanPlaca = celula.querySelector(\".carro span:not(.horario)\");\r\n      if (carroSpanPlaca && carroSpanPlaca.textContent.trim() === placa) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction atualizarRelogio() {\r\n  segundo++;\r\n  if (segundo >= 60) {\r\n    segundo = 0;\r\n    minuto++;\r\n    if (minuto >= 60) {\r\n      minuto = 0;\r\n      hora++;\r\n      if (hora >= 24) hora = 10;\r\n    }\r\n  }\r\n\r\n  atualizarRelogioGlobal();\r\n\r\n  const format = (n) => n.toString().padStart(2, '0');\r\n  document.getElementById(\"relogio\").textContent = `${format(hora)}:${format(minuto)}:${format(segundo)}`;\r\n}\r\n\r\nfunction atualizarRelogioGlobal() {\r\n  segundoGlobal++;\r\n  if (segundoGlobal >= 60) {\r\n    segundoGlobal = 0;\r\n    minutoGlobal++;\r\n    if (minutoGlobal >= 60) {\r\n      minutoGlobal = 0;\r\n      horaGlobal++;\r\n    }\r\n  }\r\n  \r\n  atualizarRelogioEmCarros();\r\n}\r\n\r\nfunction atualizarRelogioEmCarros() {\r\n  const celulas = document.querySelectorAll(\"#matriz_vagas td\");\r\n  for(let celula of celulas) {\r\n    if(celula.dataset.livre === \"false\") {\r\n      const carro = celula.querySelector(\".carro\");\r\n      const carroTime = celula.querySelector(\".horario\");\r\n      let celulaDatasetHora = celula.dataset.horaEntradaCarro;\r\n      let celulaDatasetMinuto = celula.dataset.minutoEntradaCarro;\r\n      let celulaDatasetSegundo = celula.dataset.segundoEntradaCarro;\r\n\r\n      celulaDatasetSegundo++;\r\n      if (celulaDatasetSegundo >= 60) {\r\n        celulaDatasetSegundo = 0;\r\n        celulaDatasetMinuto++;\r\n        if (celulaDatasetMinuto >= 60) {\r\n          celulaDatasetMinuto = 0;\r\n          celulaDatasetHora++;\r\n        }\r\n      }\r\n\r\n      celula.dataset.horaEntradaCarro = celulaDatasetHora;\r\n      celula.dataset.minutoEntradaCarro = celulaDatasetMinuto;\r\n      celula.dataset.segundoEntradaCarro = celulaDatasetSegundo;\r\n      \r\n      const format = (n) => n.toString().padStart(2, '0');\r\n      carroTime.textContent = `${format(celulaDatasetHora)}:${format(celulaDatasetMinuto)}:${format(celulaDatasetSegundo)}`;\r\n    }\r\n  }\r\n}\r\n\r\nsetInterval(atualizarRelogio, 1000);\r\n\r\nfunction avancarTempo(min) {\r\n  minuto += min;\r\n  while (minuto >= 60) {\r\n    minuto -= 60;\r\n    hora++;\r\n    if (hora >= 24) hora = 10;\r\n  }\r\n  atualizarRelogio();\r\n}\r\n\r\ndocument.getElementById(\"forms\").addEventListener(\"submit\", function (event) {\r\n  event.preventDefault();\r\n\r\n  const placaInput = document.getElementById(\"placa\");\r\n  const placa = placaInput.value.trim().toUpperCase();\r\n  if (!placa) return;\r\n\r\n  if (placaJaExiste(placa)) {\r\n    document.getElementById(\"popup-textRepetido\").innerHTML = `\r\n      <strong>Placa duplicada detectada!</strong><br><br>\r\n      Não é permitido estacionar dois automóveis com a mesma placa.<br>\r\n      <em>\"Parece que alguém quer arrumar problemas com a lei.\"</em><br>\r\n      — <strong>Perna Longa</strong>, <em>Looney Tunes</em>\r\n    `;\r\n    document.getElementById(\"popupRepetido\").classList.remove(\"hidden\");\r\n    return;\r\n  }\r\n\r\n  const celulasLivres = Array.from(document.querySelectorAll(\"#matriz_vagas td\")).filter(c => c.dataset.livre === \"true\");\r\n  if (celulasLivres.length === 0) {\r\n    document.getElementById(\"mensagem\").textContent = \"Estacionamento cheio!\";\r\n    return;\r\n  }\r\n\r\n  const vagaAleatoria = celulasLivres[Math.floor(Math.random() * celulasLivres.length)];\r\n\r\n  const format = (n) => n.toString().padStart(2, '0');\r\n  const horarioEntrada = `${format(hora)}:${format(minuto)}:${format(segundo)}`;\r\n\r\n  vagaAleatoria.dataset.livre = \"false\";\r\n  vagaAleatoria.dataset.horaEntrada = horarioEntrada;\r\n  vagaAleatoria.innerHTML = \"\";\r\n  vagaAleatoria.classList.add(\"breathing\");\r\n  vagaAleatoria.appendChild(criarCarro(placa, horarioEntrada));\r\n\r\n  document.getElementById(\"mensagem\").textContent = `Carro com placa ${placa} estacionado às ${horarioEntrada}.`;\r\n  placaInput.value = \"\";\r\n\r\n  vagaAleatoria.onclick = function () {\r\n    const entradaStr = this.dataset.horaEntrada;\r\n    const [hEntrada, mEntrada, sEntrada] = entradaStr.split(\":\").map(Number);\r\n\r\n    const entradaTotalSegundos = hEntrada * 3600 + mEntrada * 60 + sEntrada;\r\n    const agoraTotalSegundos = hora * 3600 + minuto * 60 + segundo;\r\n    \r\n    let diffSegundos = agoraTotalSegundos - entradaTotalSegundos;\r\n    if (diffSegundos < 0) {\r\n      diffSegundos += 24 * 3600;\r\n    }\r\n    const diffMin = Math.floor(diffSegundos / 60);\r\n\r\n    let preco = 0;\r\n    if (diffMin > 15) {\r\n      const horasFracionadas = diffMin / 60.0;\r\n      const horasCobradas = Math.ceil(horasFracionadas);\r\n      preco = 10;\r\n      if (horasCobradas > 1) {\r\n        preco += (horasCobradas - 1) * 2;\r\n      }\r\n    }\r\n\r\n    const placaDoCarroElement = this.querySelector(\".carro span:not(.horario)\");\r\n    const placaDoCarro = placaDoCarroElement ? placaDoCarroElement.textContent : \"N/A\";\r\n\r\n    popupCelulaAtiva = this;\r\n    popupPlacaAtiva = placaDoCarro;\r\n\r\n    document.getElementById(\"popup-text\").innerHTML =\r\n      `Carro com placa <strong>${placaDoCarro}</strong> entrou às ${entradaStr}<br>\r\n      Tempo estacionado: <strong>${diffMin} minutos</strong><br>\r\n      Valor a pagar: <strong>R$ ${preco.toFixed(2)}</strong>`;\r\n\r\n    document.getElementById(\"popup\").classList.remove(\"hidden\");\r\n  };\r\n});\r\n\r\ndocument.getElementById(\"btn-retirar\").onclick = () => {\r\n  if (popupCelulaAtiva) {\r\n    const entradaStr = popupCelulaAtiva.dataset.horaEntrada;\r\n    const [hEntrada, mEntrada, sEntrada] = entradaStr.split(\":\").map(Number);\r\n\r\n    const entradaTotalSegundos = hEntrada * 3600 + mEntrada * 60 + sEntrada;\r\n    const saidaTotalSegundos = hora * 3600 + minuto * 60 + segundo;\r\n\r\n    let diffSegundos = saidaTotalSegundos - entradaTotalSegundos;\r\n    if (diffSegundos < 0) { \r\n      diffSegundos += 24 * 3600;\r\n    }\r\n    const diffMin = Math.floor(diffSegundos / 60);\r\n\r\n    let preco = 0;\r\n    if (diffMin > 15) {\r\n      const horasFracionadas = diffMin / 60.0;\r\n      const horasCobradas = Math.ceil(horasFracionadas);\r\n      preco = 10;\r\n      if (horasCobradas > 1) {\r\n        preco += (horasCobradas - 1) * 2;\r\n      }\r\n    }\r\n\r\n    valorTotalAcumulado += preco;\r\n\r\n    const format = (n) => n.toString().padStart(2, '0');\r\n    const saidaStr = `${format(hora)}:${format(minuto)}:${format(segundo)}`;\r\n\r\n    const historicoItem = document.createElement(\"li\");\r\n    historicoItem.innerHTML = `\r\n      <strong>Placa:</strong> ${popupPlacaAtiva} |\r\n      <strong>Entrada:</strong> ${entradaStr} |\r\n      <strong>Saída:</strong> ${saidaStr} |\r\n      <strong>Valor:</strong> R$ ${preco.toFixed(2)}\r\n    `;\r\n    const historicoList = document.getElementById(\"historico\");\r\n    if (historicoList.firstChild) {\r\n      historicoList.insertBefore(historicoItem, historicoList.firstChild);\r\n    } else {\r\n      historicoList.appendChild(historicoItem);\r\n    }\r\n    \r\n    popupCelulaAtiva.dataset.livre = \"true\";\r\n    popupCelulaAtiva.innerHTML = \"\";\r\n    popupCelulaAtiva.style.backgroundColor = \"\";\r\n    popupCelulaAtiva.onclick = null;\r\n\r\n    document.getElementById(\"popup\").classList.add(\"hidden\");\r\n    document.getElementById(\"mensagem\").textContent = `Carro com placa ${popupPlacaAtiva} foi retirado. Valor: R$ ${preco.toFixed(2)}.`;\r\n    popupCelulaAtiva = null;\r\n    popupPlacaAtiva = null;\r\n  }\r\n};"],"names":[],"version":3,"file":"MatrixRubenGonzales.44983732.js.map","sourceRoot":"/__parcel_source_root/"}